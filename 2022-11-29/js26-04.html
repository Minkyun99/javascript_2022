<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>팩맨</title>
    <style>
        
    </style>
    <script>
        document.addEventListener('DOMContentLoaded',()=>{
            const r = document.createElement('div')
            const B = document.createElement('div')
            const Q = document.createElement('div')
            const W = document.createElement('div')
            const h1 = document.createElement('div')
           
            B.innerHTML = '<img src="./feed.png">'
            B.style.fontSize = '50px'
            B.style.position = 'absolute'
            // r.innerHTML = '<img src="./pac.png">'
            r.style.position = 'absolute'
            h1.innerHTML = `점수 : 0`

            Q.style.width = '500px'
            Q.style.height = '500px'
            Q.style.border = '3px dashed black'

            W.style.position = 'relative'
            W.style.width = '500px'
            W.style.height = '500px'
            // W.style.backgroundColor = 'darkgreen'
            W.style.left = '23px'
            W.style.bottom = '-10px'

            let status= true
            let Z = true
            document.body.append(r,B,h1,Q)
            Q.appendChild(W)
            
            
            let [x,y] = [1,2]
            const block = 20
            const print =_=>{
                r.style.left = `${x*block}px`
                r.style.top = `${y*block}px`
            }
            
            
            setInterval(()=>{
                if(status){r.innerHTML = '<img src="./pac.png">'
            }else{r.innerHTML = '<img src="./pac open.png">'}
            status = !status
            },400)
            
            
            setInterval(()=>{
                if(Z){B.style.transform ='translateY(-8px)'
                        B.style.transition = 'linear'
            }else{B.style.transform ='translateY(8px)'
            B.style.transition = 'linear' }
            Z = !Z
            },350)

         


            
            for(i=0; i <=8; i++){

                for(j=0; j<=8; j++){
                    let dot = document.createElement('span')
                    W.appendChild(dot)
                    dot.style.left = `${i*50}px`
                    dot.style.top = `${j*50}px`
                    // dot.innerHTML = '*'
                    dot.innerHTML = '<img src="./dot1.png">'
                    // dot.style.fontSize = '1px'
                    // dot.style.margin = '20px 20px 20px 20px'
                    
                    
                    
                }
            }
            let ent =  document.querySelectorAll('span')
            ent.forEach((v,i)=>{
                if(i%10==0){
                    v.innerHTML='<br>'
                }
            })


            
            
            let [a,b] = [0,0]
            const A =_=>{
                a=Math.floor(Math.random()*20)
                b=Math.floor(Math.random()*20)
                B.style.left = `${a*block}px`
                B.style.top = `${b*block}px`
                
                    console.log('ab',a,b)
                    }
                    

                    A();
            
                    

                    let count = 0
                document.addEventListener('keyup', (event)=>{
                if(x==a&&y==b){
                    r.innerHTML = '<img src="./eat.png">'
                    r.style.transform = 'scale(1.5)'
                    B.style.transform = 'scale(0.5)'
                    A();
                    count++
                    h1.innerHTML = `점수 : ${count}`}
            })
                
          
            //     let [a,b] = [0,0]
                // for(i=1; i<=5; i++){
                //     let i = document.querySelectorAll('div')
                //     i.innerHTML = '●'
                //     i.style.position = 'absolute'

                //     a=parseInt(Math.random()*20)
                //     b=parseInt(Math.random()*20)
                //     i.style.left = `${a*block}px`
                //     i.style.top = `${b*block}px`

                //     let A = [`${a*block}px`,`${b*block}px`]
                //     console.log(A)

                //     document.body.appendChild(i)
                    
                //     }
                    
             

            print();

            const keys = {ArrowLeft : 37, ArrowUp : 38, ArrowRight : 39, ArrowDown : 40}
            const {ArrowLeft : left, ArrowUp : up, ArrowRight : right, ArrowDown : down} = keys;
            let check = 0;
            document.body.addEventListener('keyup',event=>{
                check = event.keyCode;
                if(left===check){x -= 1; r.style.transform = 'scaleX(-1)'}
                if(up===check){y -= 1; r.style.transform = 'rotate(270deg)'}
                if(right===check){x += 1; r.style.transform = 'scaleX(1)'}
                if(down===check){y += 1; r.style.transform = 'rotate(1170deg)'}
                print();
                console.log(x,y)
            })
        })

       




        //     const [left, up, right, down] = [37,38,39,40]
            
            
        //     document.body.addEventListener('keyup',event=>{
        //         switch(event.keyCode) {
        //             case left : x -= 1;break
        //             case up : y -= 1 ; break
        //             case right : x += 1 ; break
        //             case down : y += 1 ; break
        //         }
        //         print();
        //     })
            
        // })
    </script>
</head>
<body>
    <div></div>
</body>
</html>